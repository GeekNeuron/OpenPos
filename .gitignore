Gemini

2.5 Pro (preview)


PRO
Conversation with Gemini
ู ูพุฑูฺู ุฌุงูุง ุงุณฺฉุฑูพุช ุจุฑุงู ุจุณุงุฒ ฺฉู ุจุชููู ุฑู github pages ุงุฌุฑุงุด ฺฉูู.
ุณุงุฎุชุงุฑ ูพุฑูฺู ูู ููู ุญุฑูู ุง ุจุงุดู.
ูุฒุฑูู ฺฏุชูุงุจู GeekNeuron ู ูุงู ูพุฑูฺู OpenPos
ุงุทูุงุนุงุช ูุงุฒูู ูู:

ูุฑฺฉ ุชู ุตุฑุงู ูพูุฒุดู ุจุงุฒ ูฺฉูู ุฑู ูุดูู ูุฏู
ูุตู ูุดู ุจู api


Show thinking
ุจุงุดูุ ฺฉ ูพุฑูฺู ุฌุงูุง ุงุณฺฉุฑูพุช ุจุฑุง ููุงุด ูพูุฒุดูโูุง ุจุงุฒ ุฏุฑ ุตุฑุงู ุจุง ุณุงุฎุชุงุฑ ุญุฑููโุง ุจุฑุงุช ุขูุงุฏู ูโฺฉูู ฺฉู ุจุชูู ุฑู GitHub Pages ุงุฌุฑุงุด ฺฉู.

ุงู ูพุฑูฺู ุดุงูู ููุงุฑุฏ ุฒุฑ ุฎูุงูุฏ ุจูุฏ:

ุณุงุฎุชุงุฑ ูพูุดู ุจูุฏ ุงุณุชุงูุฏุงุฑุฏ: ุจุฑุง ุฎูุงูุง ู ูฺฏูุฏุงุฑ ุจูุชุฑ ฺฉุฏ.
ูุงูโูุง ุฌุฏุงฺฏุงูู ุจุฑุง HTMLุ CSS ู JavaScript: ุจุฑุง ุชูฺฉฺฉ ุจูุชุฑ ูุณุฆููุชโูุง.
ุงุณุชูุงุฏู ุงุฒ JavaScript ูุฏุฑู (ES6+): ุจุฑุง ฺฉุฏููุณ ุชูุฒุชุฑ ู ฺฉุงุฑุขูุฏุชุฑ.
ุชุงุจุน ุจุฑุง ุงุชุตุงู ุจู API: ุจุฑุง ุฏุฑุงูุช ุงุทูุงุนุงุช ูพูุฒุดูโูุง.
ููุงุด ุฏุงูุงูฺฉ ุงุทูุงุนุงุช: ุจุฑุง ูุดุงู ุฏุงุฏู ูพูุฒุดูโูุง ุจุงุฒ ุจู ฺฉุงุฑุจุฑ.
ุฑุงูููุง ุงุฌุฑุง ุฑู GitHub Pages.
ุณุงุฎุชุงุฑ ูพุฑูฺู OpenPos
OpenPos/
โโโ index.html
โโโ css/
โ   โโโ style.css
โโโ js/
โ   โโโ app.js        // ููุทู ุงุตู ุจุฑูุงูู
โ   โโโ api.js        // ุชูุงุจุน ูุฑุจูุท ุจู ุงุชุตุงู ู ุฏุฑุงูุช ุฏุงุฏู ุงุฒ API
โ   โโโ ui.js         // ุชูุงุจุน ูุฑุจูุท ุจู ููุงุด ุฏุงุฏูโูุง ุฏุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ
โโโ README.md         // ุชูุถุญุงุช ูพุฑูฺู
โโโ .gitignore        // ูุงูโูุง ฺฉู ูุจุงุฏ ุฏุฑ ฺฏุช ุซุจุช ุดููุฏ
ฺฉุฏูุง ูพุฑูฺู
ุฏุฑ ุงุฏุงูู ฺฉุฏูุง ูุฑุจูุท ุจู ูุฑ ูุงู ุฑู ุจุฑุงุช ูุฑุงุฑ ูุฏู.

1. index.html
ุงู ูุงู ุณุงุฎุชุงุฑ ุงุตู ุตูุญู ูุจ ุดูุง ุฎูุงูุฏ ุจูุฏ.

HTML

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพูุฒุดูโูุง ุจุงุฒ ุตุฑุงู - OpenPos</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>๐ ูพูุฒุดูโูุง ุจุงุฒ ุฏุฑ ุตุฑุงู</h1>
    </header>

    <main>
        <section id="positions-container">
            <h2>ูุณุช ูพูุฒุดูโูุง:</h2>
            <div id="loading-indicator">ุฏุฑุญุงู ุจุงุฑฺฏุฐุงุฑ ุงุทูุงุนุงุช...</div>
            <ul id="positions-list">
                </ul>
            <div id="error-message" class="error-text"></div>
        </section>
    </main>

    <footer>
        <p>ุณุงุฎุชู ุดุฏู ุจุฑุง <a href="https://github.com/GeekNeuron/OpenPos" target="_blank">GeekNeuron/OpenPos</a></p>
    </footer>

    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
2. css/style.css
ุงู ูุงู ุจุฑุง ุงุณุชุงูโุฏู ุจู ุตูุญู ุงุณุชูุงุฏู ูโุดูุฏ. ูโุชูู ุธุงูุฑ ุฏูุฎูุงูุช ุฑู ุงูุฌุง ูพุงุฏูโุณุงุฒ ฺฉู.

CSS

body {
    font-family: 'Tahoma', sans-serif; /* ุง ูุฑ ูููุช ูุงุฑุณ ุฏฺฏุฑ ฺฉู ุฏูุณุช ุฏุงุฑ */
    margin: 0;
    padding: 0;
    background-color: #f4f7f6;
    color: #333;
    direction: rtl; /* ุจุฑุง ุฒุจุงู ูุงุฑุณ */
    line-height: 1.6;
}

header {
    background-color: #2c3e50;
    color: #ecf0f1;
    padding: 1.5rem 0;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

header h1 {
    margin: 0;
    font-size: 2rem;
}

main {
    padding: 20px;
    max-width: 900px;
    margin: 20px auto;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

#positions-container h2 {
    color: #3498db;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

#loading-indicator {
    text-align: center;
    padding: 20px;
    font-size: 1.2em;
    color: #7f8c8d;
}

#positions-list {
    list-style-type: none;
    padding: 0;
}

#positions-list li {
    background-color: #ecf0f1;
    border: 1px solid #bdc3c7;
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.3s ease;
}

#positions-list li:hover {
    background-color: #dfe6e9;
}

#positions-list li .symbol {
    font-weight: bold;
    color: #2980b9;
}

#positions-list li .type {
    padding: 5px 10px;
    border-radius: 3px;
    color: white;
    font-size: 0.9em;
}

#positions-list li .type.long {
    background-color: #2ecc71; /* ุณุจุฒ ุจุฑุง ุฎุฑุฏ */
}

#positions-list li .type.short {
    background-color: #e74c3c; /* ูุฑูุฒ ุจุฑุง ูุฑูุด */
}

.error-text {
    color: #e74c3c;
    text-align: center;
    padding: 10px;
    background-color: #fdd;
    border: 1px solid #e74c3c;
    border-radius: 5px;
    display: none; /* ุฏุฑ ุงุจุชุฏุง ูุฎู */
}

footer {
    text-align: center;
    padding: 20px;
    margin-top: 30px;
    color: #7f8c8d;
    font-size: 0.9em;
    border-top: 1px solid #e0e0e0;
}

footer a {
    color: #3498db;
    text-decoration: none;
}

footer a:hover {
    text-decoration: underline;
}

/* Responsive adjustments */
@media (max-width: 600px) {
    header h1 {
        font-size: 1.5rem;
    }

    #positions-list li {
        flex-direction: column;
        align-items: flex-start;
    }

    #positions-list li .type {
        margin-top: 8px;
    }
}
3. js/api.js
ุงู ูุงู ูุณุฆูู ุฏุฑุงูุช ุงุทูุงุนุงุช ุงุฒ API ุฎูุงูุฏ ุจูุฏ. ุจุงุฏ URL ูุงูุน API ุฎูุฏุช ุฑู ุฌุงฺฏุฒู YOUR_API_ENDPOINT_HERE ฺฉู.

JavaScript

// js/api.js

/**
 * ุงู ุชุงุจุน ุงุทูุงุนุงุช ูพูุฒุดูโูุง ุจุงุฒ ุฑุง ุงุฒ API ุฏุฑุงูุช ูโฺฉูุฏ.
 * @async
 * @param {string} apiUrl - ุขุฏุฑุณ ฺฉุงูู API Endpoint
 * @returns {Promise<Array<Object>>} - ฺฉ Promise ฺฉู ุฏุฑ ุตูุฑุช ููููุชุ ุขุฑุงูโุง ุงุฒ ูพูุฒุดูโูุง ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.
 * ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุงุ Promise ุฑุฏ (reject) ูโุดูุฏ.
 */
async function fetchOpenPositions(apiUrl) {
    try {
        const response = await fetch(apiUrl);
        if (!response.ok) {
            // ุจุฑุฑุณ ุฎุทุงูุง HTTP ูุงููุฏ 404 ุง 500
            throw new Error(`ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช: ${response.status} ${response.statusText}`);
        }
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('ุฎุทุง ุฏุฑ ุชุงุจุน fetchOpenPositions:', error);
        throw error; // ุงุฑุณุงู ูุฌุฏุฏ ุฎุทุง ุจุฑุง ูุฏุฑุช ุฏุฑ ูุงู ุจุงูุงุชุฑ (app.js)
    }
}

// ูุซุงู: ุงฺฏุฑ API ุดูุง ูุงุฒ ุจู ฺฉูุฏ (API Key) ุฏุฑ ูุฏุฑ ุฏุงุฑุฏ:
/*
async function fetchOpenPositionsWithApiKey(apiUrl, apiKey) {
    try {
        const response = await fetch(apiUrl, {
            headers: {
                'Authorization': `Bearer ${apiKey}` // ุง ูุฑ ููุน ุงุญุฑุงุฒ ููุช ุฏฺฏุฑ ฺฉู API ูุงุฒ ุฏุงุฑุฏ
                // 'X-API-KEY': apiKey // ูุซุงู ุฏฺฏุฑ
            }
        });
        if (!response.ok) {
            throw new Error(`ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช: ${response.status}`);
        }
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('ุฎุทุง ุฏุฑ ุชุงุจุน fetchOpenPositionsWithApiKey:', error);
        throw error;
    }
}
*/
ูฺฉุงุช ููู ุฏุฑ ููุฑุฏ api.js:

YOUR_API_ENDPOINT_HERE: ุงู ฺฉ placeholder ูุณุช. ุจุงุฏ ุขุฏุฑุณ ุฏูู API ฺฉู ุงุทูุงุนุงุช ูพูุฒุดูโูุง ุฑู ุงุฒุด ูฺฏุฑ ุงูุฌุง ูุฑุงุฑ ุจุฏ.
ุณุงุฎุชุงุฑ ุฏุงุฏู ููุฑุฏ ุงูุชุธุงุฑ: ูุฑุถ ฺฉุฑุฏู API ุดูุง ุขุฑุงูโุง ุงุฒ ุขุจุฌฺฉุชโูุง ุฑู ุจุฑูฺฏุฑุฏููู ฺฉู ูุฑ ุขุจุฌฺฉุช ูุดุงูโุฏููุฏู ฺฉ ูพูุฒุดู ูุณุช ู ุญุฏุงูู ุดุงูู ุงุทูุงุนุงุช ูุซู symbol (ููุงุฏ)ุ type (ููุน ูพูุฒุดู: 'long' ุง 'short')ุ entryPrice (ููุช ูุฑูุฏ)ุ amount (ููุฏุงุฑ) ู user (ฺฉุงุฑุจุฑ) ุจุงุดู. ุงู ุณุงุฎุชุงุฑ ุฑู ุจุงุฏ ุจุง ุชูุฌู ุจู API ุฎูุฏุช ุชูุธู ฺฉู.
ูุฏุฑุช ุฎุทุง: ุชุงุจุน fetchOpenPositions ุดุงูู ูุฏุฑุช ุงููู ุฎุทุง ูุณุช.
4. js/ui.js
ุงู ูุงู ุชูุงุจุน ุจุฑุง ููุงุด ุงุทูุงุนุงุช ุฏุฑ ุตูุญู HTML ุฎูุงูุฏ ุฏุงุดุช.

JavaScript

// js/ui.js

const positionsListElement = document.getElementById('positions-list');
const loadingIndicatorElement = document.getElementById('loading-indicator');
const errorMessageElement = document.getElementById('error-message');

/**
 * ูุถุนุช ููุฏูฺฏ ุฑุง ุฏุฑ UI ููุงุด ูโุฏูุฏ ุง ูพููุงู ูโฺฉูุฏ.
 * @param {boolean} isLoading - ุงฺฏุฑ true ุจุงุดุฏุ ูุดุงูฺฏุฑ ููุฏูฺฏ ููุงุด ุฏุงุฏู ูโุดูุฏ.
 */
function setLoading(isLoading) {
    if (isLoading) {
        loadingIndicatorElement.style.display = 'block';
        positionsListElement.style.display = 'none';
        errorMessageElement.style.display = 'none';
    } else {
        loadingIndicatorElement.style.display = 'none';
        positionsListElement.style.display = 'block';
    }
}

/**
 * ูพุงู ุฎุทุง ุฑุง ุฏุฑ UI ููุงุด ูโุฏูุฏ.
 * @param {string} message - ูพุงู ุฎุทุง ุจุฑุง ููุงุด.
 */
function displayError(message) {
    errorMessageElement.textContent = message || 'ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุงุทูุงุนุงุช ุฑุฎ ุฏุงุฏ. ูุทูุงู ุจุนุฏุงู ุชูุงุด ฺฉูุฏ.';
    errorMessageElement.style.display = 'block';
    loadingIndicatorElement.style.display = 'none';
    positionsListElement.style.display = 'none';
}

/**
 * ูพูุฒุดูโูุง ุฑุง ุฏุฑ ูุณุช UI ููุงุด ูโุฏูุฏ.
 * @param {Array<Object>} positions - ุขุฑุงูโุง ุงุฒ ุขุจุฌฺฉุชโูุง ูพูุฒุดู.
 * ูุฑ ุขุจุฌฺฉุช ูพูุฒุดู ุจุงุฏ ุดุงูู ุญุฏุงูู ููุฏูุง ุฒุฑ ุจุงุดุฏ:
 * - symbol: (string) ููุงุฏ ุงุฑุฒ (ูุซุงู: 'BTCUSDT')
 * - type: (string) ููุน ูพูุฒุดู ('long' ุง 'short')
 * - entryPrice: (number) ููุช ูุฑูุฏ
 * - amount: (number) ููุฏุงุฑ
 * - user: (string) ูุงู ฺฉุงุฑุจุฑ ุง ุดูุงุณู ฺฉุงุฑุจุฑ (ุงุฎุชุงุฑ)
 */
function displayPositions(positions) {
    if (!positions || positions.length === 0) {
        positionsListElement.innerHTML = '<li>ุฏุฑ ุญุงู ุญุงุถุฑ ูฺ ูพูุฒุดู ุจุงุฒ ูุฌูุฏ ูุฏุงุฑุฏ.</li>';
        return;
    }

    positionsListElement.innerHTML = ''; // ูพุงฺฉ ฺฉุฑุฏู ูุณุช ูุจู

    positions.forEach(position => {
        const listItem = document.createElement('li');

        // ุดูุง ูโุชูุงูุฏ ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ูุงูุน API ุฎูุฏ ุงู ุจุฎุด ุฑุง ุณูุงุฑุดโุณุงุฒ ฺฉูุฏ
        const symbolElement = document.createElement('span');
        symbolElement.className = 'symbol';
        symbolElement.textContent = position.symbol || 'ูุงูุดุฎุต';

        const typeElement = document.createElement('span');
        typeElement.className = `type ${position.type === 'long' ? 'long' : 'short'}`;
        typeElement.textContent = position.type === 'long' ? 'ุฎุฑุฏ (Long)' : 'ูุฑูุด (Short)';

        const entryPriceElement = document.createElement('span');
        entryPriceElement.textContent = `ููุช ูุฑูุฏ: ${position.entryPrice !== undefined ? position.entryPrice.toLocaleString() : 'N/A'}`;

        const amountElement = document.createElement('span');
        amountElement.textContent = `ููุฏุงุฑ: ${position.amount !== undefined ? position.amount.toLocaleString() : 'N/A'}`;

        // ุงุถุงูู ฺฉุฑุฏู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ
        let userText = '';
        if (position.user) {
            userText = ` | ฺฉุงุฑุจุฑ: ${position.user}`;
        }

        listItem.appendChild(symbolElement);
        listItem.appendChild(typeElement);
        listItem.appendChild(entryPriceElement);
        listItem.appendChild(amountElement);

        // ูุซุงู ุจุฑุง ููุงุด ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ฺฉ ุฎุท ุฏฺฏุฑ ุง ุจู ุตูุฑุช tooltip
        // const detailsElement = document.createElement('div');
        // detailsElement.className = 'position-details';
        // detailsElement.textContent = `ุฌุฒุฆุงุช ุจุดุชุฑ...`;
        // listItem.appendChild(detailsElement);


        // ุงุถุงูู ฺฉุฑุฏู ููู ุงุทูุงุนุงุช ุจู ุขุชู ูุณุช
        // listItem.innerHTML = `
        //     <div>
        //         <span class="symbol">${position.symbol || 'ูุงูุดุฎุต'}</span>
        //         <span class="type ${position.type === 'long' ? 'long' : 'short'}">
        //             ${position.type === 'long' ? 'ุฎุฑุฏ (Long)' : 'ูุฑูุด (Short)'}
        //         </span>
        //     </div>
        //     <div>
        //         <span>ููุช ูุฑูุฏ: ${position.entryPrice !== undefined ? position.entryPrice.toLocaleString() : 'N/A'}</span>
        //         <span>ููุฏุงุฑ: ${position.amount !== undefined ? position.amount.toLocaleString() : 'N/A'}</span>
        //         ${position.user ? `<span>ฺฉุงุฑุจุฑ: ${position.user}</span>` : ''}
        //     </div>
        // `;


        positionsListElement.appendChild(listItem);
    });
}
ูฺฉุงุช ููู ุฏุฑ ููุฑุฏ ui.js:

ุณุงุฎุชุงุฑ ุฏุงุฏู ูพูุฒุดู: ุชุงุจุน displayPositions ุงูุชุธุงุฑ ุฏุงุฑุฏ ฺฉู ูุฑ ุขุจุฌฺฉุช ูพูุฒุดู ุดุงูู symbolุ typeุ entryPrice ู amount ุจุงุดุฏ. ุงฺฏุฑ API ุดูุง ุฏุงุฏูโูุง ูุชูุงูุช ุจุฑูฺฏุฑุฏุงูุฏุ ุจุงุฏ ุงู ุชุงุจุน ุฑุง ูุฑุงุด ฺฉู.
ุดุฎุตโุณุงุฒ ููุงุด: ูุชูู ูุญูู ููุงุด ูุฑ ูพูุฒุดู ุฑู ุจุง ุชุบุฑ ฺฉุฏูุง ุฏุงุฎู displayPositions ฺฉุงููุง ุนูุถ ฺฉู. ูุซูุง ูุชูู ุงุทูุงุนุงุช ุจุดุชุฑ ููุงุด ุจุฏ ุง ุงุฒ ุขฺฉููโูุง ุงุณุชูุงุฏู ฺฉู.
5. js/app.js
ุงู ูุงู ููุทู ูุฑูุฏ ุงุตู ุจุฑูุงูู ุฌุงูุง ุงุณฺฉุฑูพุช ุดูุงุณุช ู ููุทู ุงุตู ุฑุง ูุฏุฑุช ูโฺฉูุฏ.

JavaScript

// js/app.js

// URL ูุฑุจูุท ุจู API ุฎูุฏุชุงู ุฑุง ุฏุฑ ุงูุฌุง ูุฑุงุฑ ุฏูุฏ
// ุงู ฺฉ ูุซุงู ุงุณุช ู ุจุงุฏ ุจุง ุขุฏุฑุณ ูุงูุน API ุดูุง ุฌุงฺฏุฒู ุดูุฏ.
// ุงฺฏุฑ API ุดูุง ุนููู ูุณุชุ ููฺฉู ุงุณุช ูุงุฒ ุจู ูุฏุฑุช CORS ุฏุฑ ุณูุช ุณุฑูุฑ API ุฏุงุดุชู ุจุงุดุฏ.
const API_URL = 'YOUR_API_ENDPOINT_HERE'; // <--- !!!!!!! ุงู ุขุฏุฑุณ ุฑุง ุญุชูุง ูุฑุงุด ฺฉูุฏ !!!!!!!

// ุงฺฏุฑ API ุดูุง ูุงุฒ ุจู ฺฉูุฏ ุฏุงุฑุฏุ ุขู ุฑุง ุงูุฌุง ุชุนุฑู ฺฉูุฏ
// const API_KEY = 'YOUR_API_KEY_HERE'; // <--- ุฏุฑ ุตูุฑุช ูุงุฒุ ุงู ุฑุง ูู ูุฑุงุด ฺฉูุฏ

/**
 * ุชุงุจุน ุงุตู ุจุฑุง ุดุฑูุน ุจุฑูุงูู
 */
async function main() {
    setLoading(true); // ููุงุด ูุดุงูฺฏุฑ ููุฏูฺฏ

    try {
        // ุจุฑุง ุงุณุชูุงุฏู ุงุฒ API ุจุง ฺฉูุฏ:
        // const positions = await fetchOpenPositionsWithApiKey(API_URL, API_KEY);
        // ุฏุฑ ุบุฑ ุงู ุตูุฑุช:
        const positions = await fetchOpenPositions(API_URL);

        if (positions && positions.length > 0) {
            // ูุฑุถ ูโฺฉูู API ุขุฑุงูโุง ุงุฒ ูพูุฒุดูโูุง ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ
            // ุงฺฏุฑ ุณุงุฎุชุงุฑ ุฏุงุฏู ูุชูุงูุช ุงุณุชุ ุงู ุจุฎุด ุฑุง ุจุงุฏ ุชุบุฑ ุฏูุฏ
            // ูุซุงู: ุงฺฏุฑ ุฏุงุฏูโูุง ุฏุงุฎู ฺฉ ูพุฑุงูพุฑุช ุฎุงุต ูุณุชูุฏ: displayPositions(positions.data.open_positions);
            displayPositions(positions);
        } else {
            displayPositions([]); // ููุงุด ูพุงู "ูฺ ูพูุฒุดู ูุฌูุฏ ูุฏุงุฑุฏ"
        }
    } catch (error) {
        console.error('ุฎุทุง ุฏุฑ ุงุฌุฑุง ุจุฑูุงูู ุงุตู:', error);
        // ููุงุด ูพุงู ุฎุทุง ุจู ฺฉุงุฑุจุฑ ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑ ุตูุฑุช ุงูฺฉุงู
        let errorMessage = 'ูุชุงุณูุงูู ูุดฺฉู ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช ุงุฒ ุณุฑูุฑ ูพุด ุขูุฏ.';
        if (error.message.includes('Failed to fetch')) {
            errorMessage += ' ูุทูุงู ุงุชุตุงู ุงูุชุฑูุช ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ฺฉู API Endpoint ุตุญุญ ู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช (ููฺฉู ุงุณุช ูุดฺฉู CORS ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ).';
        } else if (error.message.includes('ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช: 401') || error.message.includes('ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช: 403')) {
            errorMessage += ' ุจู ูุธุฑ ูโุฑุณุฏ ูุฌูุฒ ุฏุณุชุฑุณ ุจู API ุฑุง ูุฏุงุฑุฏ. ฺฉูุฏ API (ุฏุฑ ุตูุฑุช ูุงุฒ) ุฑุง ุจุฑุฑุณ ฺฉูุฏ.';
        } else if (error.message.includes('ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช: 404')) {
            errorMessage += ' ุขุฏุฑุณ API ููุฑุฏ ูุธุฑ ุงูุช ูุดุฏ.';
        }
        displayError(errorMessage);
    } finally {
        setLoading(false); // ูพููุงู ฺฉุฑุฏู ูุดุงูฺฏุฑ ููุฏูฺฏ ุฏุฑ ูุฑ ุตูุฑุช (ููููุช ุง ุฎุทุง)
    }
}

// ุงุฌุฑุง ุจุฑูุงูู ุงุตู ูพุณ ุงุฒ ุจุงุฑฺฏุฐุงุฑ ฺฉุงูู DOM
document.addEventListener('DOMContentLoaded', main);

// (ุงุฎุชุงุฑ) ุฑูุฑุด ุฎูุฏฺฉุงุฑ ุฏุงุฏูโูุง ูุฑ ฺูุฏ ุฏููู ฺฉุจุงุฑ
// const REFRESH_INTERVAL_MS = 5 * 60 * 1000; // ูุซุงู: ูุฑ ต ุฏููู
// setInterval(main, REFRESH_INTERVAL_MS);
ูฺฉุงุช ุฎู ููู ุจุฑุง app.js:

API_URL: ุงู ูููุชุฑู ุจุฎุด ุงุณุช! ุจุงุฏ YOUR_API_ENDPOINT_HERE ุฑุง ุจุง URL ูุงูุน API ฺฉู ุงุทูุงุนุงุช ูพูุฒุดูโูุง ุฑุง ุงุฒ ุขู ุฏุฑุงูุช ูโฺฉูุ ุฌุงฺฏุฒู ฺฉู.
API_KEY: ุงฺฏุฑ API ุดูุง ูุงุฒ ุจู ฺฉูุฏ (API Key) ุจุฑุง ุงุญุฑุงุฒ ููุช ุฏุงุฑุฏุ ุขู ุฑุง ุฏุฑ ูุชุบุฑ API_KEY ูุฑุงุฑ ุจุฏู ู ุงุฒ ุชุงุจุน fetchOpenPositionsWithApiKey (ฺฉู ุฏุฑ api.js ุจู ุตูุฑุช ฺฉุงููุช ุดุฏู ูุฑุงุฑ ุฏุงุฏู) ุงุณุชูุงุฏู ฺฉู.
ูุดฺฉู CORS: ุงฺฏุฑ API ุฑู ุฏุงูููโุง ูุชูุงูุช ุงุฒ GitHub Pages ูุฑุงุฑ ุฏุงุฑุฏุ ููฺฉู ุงุณุช ุจุง ุฎุทุง CORS (Cross-Origin Resource Sharing) ููุงุฌู ุจุด. ุณุฑูุฑ API ุจุงุฏ ุจู ุฏุฑุฎูุงุณุชโูุง ุงุฒ ุฏุงููู GeekNeuron.github.io ุงุฌุงุฒู ุฏุณุชุฑุณ ุจุฏูุฏ (ุจุง ุชูุธู ูุฏุฑ Access-Control-Allow-Origin). ุงฺฏุฑ ุจู ุณุฑูุฑ API ุฏุณุชุฑุณ ูุฏุงุฑุ ุงู ูุดฺฉู ุงุฒ ุณูุช ฺฉูุงูุช (ุฌุงูุง ุงุณฺฉุฑูพุช ุฏุฑ ูุฑูุฑฺฏุฑ) ุจู ุณุงุฏฺฏ ูุงุจู ุญู ูุณุช ู ูุงุฒ ุจู ฺฉ ูพุฑุงฺฉุณ ุณุฑูุฑ ุง ุชุบุฑุงุช ุฏุฑ ุณูุช ุณุฑูุฑ API ุฏุงุฑุฏ.
ุฑูุฑุด ุฎูุฏฺฉุงุฑ: ุฏุฑ ุงูุชูุง ูุงูุ ฺฉ ุจุฎุด ฺฉุงููุช ุดุฏู ุจุฑุง ุฑูุฑุด ุฎูุฏฺฉุงุฑ ุฏุงุฏูโูุง ูุฌูุฏ ุฏุงุฑุฏ. ุงฺฏุฑ ูโุฎูุงู ุงุทูุงุนุงุช ุจู ุตูุฑุช ุฏูุฑูโุง ุจูโุฑูุฒ ุดููุฏุ ูโุชูู ุงูู ุจุฎุด ุฑู ุงุฒ ฺฉุงููุช ุฎุงุฑุฌ ฺฉู ู ุฒูุงู ููุฑุฏ ูุธุฑุช ุฑู ุชูุธู ฺฉู.
6. README.md
ูุงู ุจุฑุง ุชูุถุญ ูพุฑูฺูุ ูุญูู ุงุฌุฑุง ู ุงุทูุงุนุงุช ุฏฺฏุฑ.

Markdown

# OpenPos ๐

ูพุฑูฺูโุง ุจุฑุง ููุงุด ูพูุฒุดูโูุง ุจุงุฒ ุฏุฑ ุตุฑุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌุงูุง ุงุณฺฉุฑูพุช ู ุงุชุตุงู ุจู API.

## ๐ ุงุฌุฑุง

ุงู ูพุฑูฺู ุจุฑุง ุงุฌุฑุง ุฑู GitHub Pages ุทุฑุงุญ ุดุฏู ุงุณุช.

1.  **ฺฉููู ฺฉุฑุฏู ุฑูพุงุฒุชูุฑ (ุงุฎุชุงุฑ):**
    ```bash
    git clone [https://github.com/GeekNeuron/OpenPos.git](https://github.com/GeekNeuron/OpenPos.git)
    cd OpenPos
    ```

2.  **ุชูุธู API Endpoint:**
    * ูุงู `js/app.js` ุฑุง ุจุงุฒ ฺฉูุฏ.
    * ูุชุบุฑ `API_URL` ุฑุง ุจุง ุขุฏุฑุณ API Endpoint ูุงูุน ุฎูุฏุชุงู ุฌุงฺฏุฒู ฺฉูุฏ.
    * ุงฺฏุฑ API ุดูุง ูุงุฒ ุจู ฺฉูุฏ (API Key) ุฏุงุฑุฏุ ุขู ุฑุง ุฏุฑ ูุชุบุฑ `API_KEY` ูุฑุงุฑ ุฏูุฏ ู ุชุงุจุน ูุฑุจูุทู ุฏุฑ `js/api.js` ู `js/app.js` ุฑุง ูุนุงู ฺฉูุฏ.

3.  **ูุดุงูุฏู ุขููุงู:**
    ูพุณ ุงุฒ ูพูุด ฺฉุฑุฏู ุชุบุฑุงุช ุจู GitHubุ ูพุฑูฺู ุงุฒ ุทุฑู ุขุฏุฑุณ ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ:
    `https://GeekNeuron.github.io/OpenPos/`

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุฑูฺู

* `index.html`: ูุงู ุงุตู HTML.
* `css/style.css`: ูุงู ุงุณุชุงูโูุง.
* `js/`: ูพูุดู ฺฉุฏูุง ุฌุงูุง ุงุณฺฉุฑูพุช.
    * `app.js`: ููุทู ุงุตู ุจุฑูุงูู ู ููุทู ูุฑูุฏ.
    * `api.js`: ุชูุงุจุน ูุฑุจูุท ุจู ุงุฑุชุจุงุท ุจุง API.
    * `ui.js`: ุชูุงุจุน ูุฑุจูุท ุจู ุจูโุฑูุฒุฑุณุงู ุฑุงุจุท ฺฉุงุฑุจุฑ.

## ๐ ูุงุณูุณ

[MIT](./LICENSE) (ุงฺฏุฑ ูุงุณูุณ ุฏุงุฑุฏุ ูุงู LICENSE ุฑุง ุงุถุงูู ฺฉูุฏ)

## ๐งโ๐ป ุชูุณุนูโุฏููุฏู

* **GeekNeuron** - [GitHub Profile](https://github.com/GeekNeuron)
7. .gitignore
ุงู ูุงู ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฉุฏุงู ูุงูโูุง ู ูพูุดูโูุง ูุจุงุฏ ุชูุณุท ฺฏุช ุฑุฏุงุจ ู ุจู ุฑูพุงุฒุชูุฑ ุงุฑุณุงู ุดููุฏ. ุจุฑุง ูพุฑูฺูโูุง ุฌุงูุง ุงุณฺฉุฑูพุช ุณุงุฏูุ ูุนูููุงู ููุงุฑุฏ ุฒุงุฏ ูุงุฒ ูุณุชุ ุงูุง ุงฺฏุฑ ุงุฒ ุงุจุฒุงุฑูุง build ุง ูพฺฉุฌ ููุฌุฑูุง ุงุณุชูุงุฏู ฺฉูุ ุงู ูุงู ูููโุชุฑ ูโุดูุฏ.

# Dependencies
node_modules/

# Build files
dist/
build/

# Log files
*.log

# Environment variables
.env
*.env.*

# OS generated files
.DS_Store
Thumbs.db
ุฑุงูโุงูุฏุงุฒ ู ุงุฌุฑุง ุฑู GitHub Pages
ุณุงุฎุช ุฑูพุงุฒุชูุฑ ุฏุฑ GitHub:

ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏุช ุฏุฑ GitHub ุจุฑู.
ฺฉ ุฑูพุงุฒุชูุฑ ุฌุฏุฏ ุจุง ูุงู OpenPos ุจุณุงุฒ. (ูุทูุฆู ุดู ฺฉู Public ุจุงุดู ุชุง GitHub Pages ฺฉุงุฑ ฺฉูู).
ุงุชุตุงู ูพุฑูฺู ูุญู ุจู ุฑูพุงุฒุชูุฑ GitHub:

ูพูุดู OpenPos ฺฉู ุฏุฑ ฺฉุงููพูุชุฑุช ุณุงุฎุช ุฑู ุจุงุฒ ฺฉู.
ุงฺฏุฑ ูููุฒ Git ุฑู ุฏุฑ ุงู ูพูุดู initialize ูฺฉุฑุฏุ ุฏุณุชูุฑุงุช ุฒุฑ ุฑู ุฏุฑ ุชุฑููุงู ุง Command Prompt ุงุฌุฑุง ฺฉู:
Bash

git init
git add .
git commit -m "Initial commit: Project structure and basic files"
git branch -M main
git remote add origin https://github.com/GeekNeuron/OpenPos.git
git push -u origin main
ูุนุงูโุณุงุฒ GitHub Pages:

ุฏุฑ ุตูุญู ุฑูพุงุฒุชูุฑ OpenPos ุฏุฑ GitHubุ ุจู ุชุจ Settings ุจุฑู.
ุฏุฑ ููู ุณูุช ฺูพุ ุฑู Pages ฺฉูฺฉ ฺฉู.
ุฏุฑ ุจุฎุด Branchุ ุดุงุฎู main (ุง ูุฑ ุดุงุฎูโุง ฺฉู ฺฉุฏูุงุช ุฑูุด ูุณุช) ุฑู ุงูุชุฎุงุจ ฺฉู ู ุฑู ุฏฺฉูู Save ฺฉูฺฉ ฺฉู.
ฺฉู ุตุจุฑ ฺฉู. GitHub ูพุฑูฺู ุดูุง ุฑู build ู deploy ูโฺฉูู.
ุจุนุฏ ุงุฒ ฺูุฏ ุฏูููุ ุขุฏุฑุณ ุตูุญูโุงุช (ูุนูููุงู ฺุฒ ุดุจู https://GeekNeuron.github.io/OpenPos/) ุฏุฑ ููู ุจุฎุด Pages ููุงุด ุฏุงุฏู ูุดู ู ูพุฑูฺู ูุงุจู ูุดุงูุฏู ุฎูุงูุฏ ุจูุฏ.
ูฺฉุงุช ุจุณุงุฑ ููู ูุจู ุงุฒ ุงุฌุฑุง:

ุฌุงฺฏุฒู API_URL: ุฏูุจุงุฑู ุชุงฺฉุฏ ูโฺฉููุ ุญุชูุงู YOUR_API_ENDPOINT_HERE ุฏุฑ ูุงู js/app.js (ู ุฏุฑ ุตูุฑุช ูุงุฒ API_KEY) ุฑุง ุจุง ุงุทูุงุนุงุช ุตุญุญ API ุฎูุฏุช ุฌุงฺฏุฒู ฺฉู. ุจุฏูู ุงู ฺฉุงุฑุ ูพุฑูฺู ุงุทูุงุนุงุช ููุงุด ูุฎูุงูุฏ ุฏุงุฏ.
ุณุงุฎุชุงุฑ ุฏุงุฏู API: ูุทูุฆู ุดู ฺฉู ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ฺฉู ุงุฒ API ุฏุฑุงูุช ูโฺฉู ุจุง ฺุฒ ฺฉู ุฏุฑ ุชูุงุจุน displayPositions (ุฏุฑ ui.js) ู fetchOpenPositions (ุฏุฑ api.js) ุงูุชุธุงุฑ ูุฑูุ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดู. ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุจุงุฏ ุงูู ุชูุงุจุน ุฑู ูุฑุงุด ฺฉู.
ูุดฺฉู CORS: ุงฺฏุฑ ุจุนุฏ ุงุฒ ุงุฌุฑุง ุจุง ุตูุญู ุณูุฏ ุง ุฎุทุง ูุฑุจูุท ุจู fetch ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ููุงุฌู ุดุฏุ ุจู ุงุญุชูุงู ุฒุงุฏ ูุดฺฉู ุงุฒ CORS ูุณุช. ุงู ููุฑุฏ ุจุงุฏ ุฏุฑ ุณูุช ุณุฑูุฑ API ุญู ุจุดู.
ูููู ุจุงุด! ุงฺฏุฑ ุณูุงู ุฏุงุดุช ุง ุจู ูุดฺฉู ุจุฑุฎูุฑุฏุ ุจูพุฑุณ.


Sources
ฺู ูพุดููุงุฏ ุฏฺฏู ุง ุจุฑุงุด ุฏุงุฑุ ุฑุงุจุท ฺฉุงุฑุจุฑ ูู ูุงููุฏ isega.ro ูุฏุฑู ุจุงุดู


Show thinking
ุนุงู! ุงูฺฉู ุจู ุฏูุจุงู ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุฏุฑู ูุซู isega.ro ูุณุชุ ูุดุงูโุฏููุฏู ุณููู ุฎูุจุช ุฏุฑ ุทุฑุงุญ ุงุณุช. ูุจโุณุงุช isega.ro (ุชุง ุฌุง ฺฉู ุจุฑุฑุณ ฺฉุฑุฏู) ุงุฒ ูฺฺฏโูุง ุฒุฑ ุจูุฑู ูโุจุฑุฏ ฺฉู ูโุชูุงูู ุงุฒ ุขูโูุง ุงููุงู ุจฺฏุฑู:

ุทุฑุงุญ ุชูุฒ ู ูููุงู: ูุถุง ุณูุฏ ุฒุงุฏุ ุชูุฑฺฉุฒ ุฑู ูุญุชูุง.
ุชุงูพูฺฏุฑุงู ูุฏุฑู ู ุฎูุงูุง: ุงุณุชูุงุฏู ุงุฒ ูููุชโูุง sans-serif ุดฺฉ.
ุงููุดูโูุง ุธุฑู ู ูุฏูููุฏ: ุจุฑุง ุจูุจูุฏ ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุจุฏูู ุงุฌุงุฏ ุญูุงุณโูพุฑุช.
ุงุณุชูุงุฏู ุงุฒ ุฑูฺฏโูุง ูุญุฏูุฏ ู ููุงููฺฏ: ุงุบูุจ ฺฉ ุง ุฏู ุฑูฺฏ ุงุตู ุจู ููุฑุงู ุฑูฺฏโูุง ุฎูุซ.
ุทุฑุญโุจูุฏ ูุงฺฉูุดโฺฏุฑุง (Responsive): ููุงุด ุนุงู ุฏุฑ ุฏุณุชฺฏุงูโูุง ูุฎุชูู.
ุงุญุชูุงูุงู ุงุณุชูุงุฏู ุงุฒ ฺฉุงููพูููุชโูุง ฺฉุงุฑุช ูุงููุฏ (Card-based components): ุจุฑุง ููุงุด ุงุทูุงุนุงุช ุจู ุตูุฑุช ูุฌุฒุง ู ููุธู.
ุจุง ุชูุฌู ุจู ุงู ููุงุฑุฏุ ูพุดููุงุฏูุง ุฒุฑ ุฑู ุจุฑุง ุงุฑุชูุง ูพุฑูฺู OpenPos ุฏุงุฑู:

1. ุจูุจูุฏ ุณุงุฎุชุงุฑ HTML ู ุงุณุชูุงุฏู ุงุฒ ฺฉุงููพูููุชโูุง ฺฉุงุฑุชโูุงููุฏ:
ุจู ุฌุง ูุณุช ุณุงุฏู <ul>ุ ูโุชูุงูู ูุฑ ูพูุฒุดู ุฑุง ุฏุฑ ฺฉ "ฺฉุงุฑุช" ููุงุด ุฏูู. ุงู ฺฉุงุฑ ุฎูุงูุง ู ุฌุฐุงุจุช ุจุตุฑ ุฑุง ุงูุฒุงุด ูโุฏูุฏ.

ูุซุงู ุจุฑุง index.html (ุจุฎุด positions-list):

HTML

<section id="positions-container">
    <h2>ูุณุช ูพูุฒุดูโูุง:</h2>
    <div id="loading-indicator">
        <div class="spinner"></div>
        <p>ุฏุฑุญุงู ุจุงุฑฺฏุฐุงุฑ ุงุทูุงุนุงุช...</p>
    </div>
    <div id="positions-grid" class="positions-grid">
        </div>
    <div id="error-message" class="error-text"></div>
    <p id="no-positions-message" style="display: none; text-align: center; margin-top: 20px;">ุฏุฑ ุญุงู ุญุงุถุฑ ูฺ ูพูุฒุดู ุจุงุฒ ูุฌูุฏ ูุฏุงุฑุฏ.</p>
</section>
2. ุจุงุฒูฺฏุฑ ู ูุฏุฑูโุณุงุฒ CSS (css/style.css):
ุจุงุฏ CSS ุฑุง ุทูุฑ ุชุบุฑ ุฏูู ฺฉู ุธุงูุฑ ฺฉุงุฑุชโูุงุ ุชุงูพูฺฏุฑุงู ู ุงููุดูโูุง ูุฏุฑูโุชุฑ ุดููุฏ.

ูพุดููุงุฏูุง ุจุฑุง style.css:

ูููุช: ุงุณุชูุงุฏู ุงุฒ ูููุชโูุง ูุฏุฑู ูุงุฑุณ. ุงฺฏุฑ ุจู ูููุชโูุง ฺฏูฺฏู ุฏุณุชุฑุณ ุฏุงุฑุ ูููุชโูุง ูุซู Vazirmatn ุง Estedad ุงูุชุฎุงุจโูุง ุฎูุจ ูุณุชูุฏ. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูููุชโูุง ุงุณุชุงูุฏุงุฑุฏุชุฑ ูุซู Tahoma ุง Arial ุจุง ุชูุธูุงุช ููุงุณุจ ูู ูโุชูุงููุฏ ุฎูุจ ุจู ูุธุฑ ุจุฑุณูุฏ.
ุฑูฺฏโุจูุฏ: ฺฉ ูพุงูุช ุฑูฺฏ ูุฏุฑู ุงูุชุฎุงุจ ฺฉู. ูุซูุงู:
ูพุณโุฒููู ุงุตู: ฺฉ ุฎุงฺฉุณุชุฑ ุฎู ุฑูุดู ุง ุณูุฏ (#f8f9fa ุง #ffffff)
ุฑูฺฏ ูุชู ุงุตู: ุฎุงฺฉุณุชุฑ ุชุฑู (#212529 ุง #333333)
ุฑูฺฏ ุชุฃฺฉุฏ (Accent Color): ฺฉ ุฑูฺฏ ุฒูุฏู ู ูุฏุฑู ูุซู ุขุจ ุฎุงุต (#007bff) ุง ุณุจุฒ (#198754). ุงู ุฑูฺฏ ูโุชูุงูุฏ ุจุฑุง ุฏฺฉููโูุงุ ููฺฉโูุง ู ุจุฎุดโูุง ููู ฺฉุงุฑุชโูุง ุงุณุชูุงุฏู ุดูุฏ.
ุฑูฺฏ ฺฉุงุฑุชโูุง: ุณูุฏ ุง ฺฉ ุฎุงฺฉุณุชุฑ ุฎู ฺฉูโุฑูฺฏ ุจุง ุณุงูโูุง ุธุฑู ุจุฑุง ุงุฌุงุฏ ุนูู.
ุงุณุชุงู ฺฉุงุฑุชโูุง:
ุงุณุชูุงุฏู ุงุฒ border-radius ุจุฑุง ฺฏูุดูโูุง ฺฏุฑุฏ.
box-shadow ุจุณุงุฑ ูุฑู ู ูุญู ุจุฑุง ุจุฑุฌุณุชู ฺฉุฑุฏู ฺฉุงุฑุชโูุง.
ุงุณุชูุงุฏู ุงุฒ Flexbox ุง Grid ุจุฑุง ฺุฏูุงู ุฏุงุฎู ฺฉุงุฑุชโูุง ู ููฺูู ฺุฏูุงู ุฎูุฏ ฺฉุงุฑุชโูุง ุฏุฑ ุตูุญู.
ุงููุดูโูุง ู ุชุฑูุฒุดูโูุง:
ุชุฑูุฒุดู ูุฑู ุจุฑุง hover ุฑู ฺฉุงุฑุชโูุง (ูุซูุงู ุชุบุฑ ุฌุฒุฆ ุณุงู ุง ุจุฒุฑฺฏ ุดุฏู ุฎูู).
ุงููุดู ููุฏูฺฏ ุฌุฐุงุจโุชุฑ.
ููููู ฺฉุฏูุง CSS ุจุฑุง ฺฉุงุฑุชโูุง ู ููุฏูฺฏ (ุงุฏุงูู style.css ูุจู ุง ุฌุงฺฏุฒู ุจุฎุดโูุง ูุฑุจูุทู):

CSS

/* General Body and Font */
body {
    font-family: 'Vazirmatn', 'Tahoma', sans-serif; /* Vazirmatn ฺฉ ูููุช ูุฏุฑู ูุงุฑุณ ุนุงู ุงุณุช */
    background-color: #f8f9fa;
    color: #343a40;
    line-height: 1.7;
}

header {
    background-color: #ffffff; /* ูพุณ ุฒููู ุณูุฏ ุจุฑุง ูุฏุฑ */
    color: #343a40;
    padding: 1.5rem 1rem;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); /* ุณุงู ุธุฑู ุชุฑ */
    border-bottom: 1px solid #e9ecef;
}

header h1 {
    margin: 0;
    font-size: 1.8rem; /* ฺฉู ฺฉูฺฺฉุชุฑ ู ุธุฑู ุชุฑ */
    font-weight: 600; /* ูุฒู ูููุช ุจุฑุง ูุฏุฑู ุจูุฏู */
}

main {
    padding: 25px;
    max-width: 1200px; /* ุนุฑุถ ุจุดุชุฑ ุจุฑุง ฺุฏูุงู ุจูุชุฑ ฺฉุงุฑุช ูุง */
    margin: 30px auto;
}

#positions-container h2 {
    color: #007bff; /* ุฑูฺฏ ุชุงฺฉุฏ */
    border-bottom: 2px solid #007bff;
    padding-bottom: 10px;
    margin-bottom: 25px;
    font-size: 1.5rem;
    font-weight: 500;
}

/* Loading Indicator - Spinner */
#loading-indicator {
    text-align: center;
    padding: 40px 20px;
    font-size: 1.1em;
    color: #6c757d;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 5px solid #f3f3f3; /* Light grey */
    border-top: 5px solid #007bff; /* Blue */
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 15px auto;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Grid for Position Cards */
.positions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* ฺุฏูุงู ฺฏุฑุฏ ูุงฺฉูุดฺฏุฑุง */
    gap: 20px; /* ูุงุตูู ุจู ฺฉุงุฑุช ูุง */
    padding: 0;
}

/* Individual Position Card Styling */
.position-card {
    background-color: #ffffff;
    border: 1px solid #e9ecef;
    border-radius: 8px; /* ฺฏูุดู ูุง ฺฏุฑุฏุชุฑ */
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05); /* ุณุงู ูุฑู ุชุฑ ู ูุฏุฑู ุชุฑ */
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    display: flex;
    flex-direction: column; /* ุจุฑุง ฺุฏูุงู ุจูุชุฑ ูุญุชูุง ุฏุงุฎู */
    justify-content: space-between; /* ูุญุชูุง ุฑุง ุฏุฑ ฺฉุงุฑุช ูพุฎุด ู ฺฉูุฏ */
}

.position-card:hover {
    transform: translateY(-5px); /* ุญุฑฺฉุช ุฌุฒุฆ ุจู ุจุงูุง ุฏุฑ ูุงูุฑ */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

.position-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    border-bottom: 1px solid #f1f1f1;
    padding-bottom: 10px;
}

.position-card .symbol {
    font-weight: 600; /* ุจููุฏุชุฑ ฺฉุฑุฏู ููุงุฏ */
    font-size: 1.25rem;
    color: #343a40;
}

.position-card .type {
    padding: 6px 12px;
    border-radius: 20px; /* ฺฏุฑุฏ ุจุดุชุฑ ุจุฑุง ุชฺฏ ูุง */
    color: white;
    font-size: 0.85em;
    font-weight: 500;
}

.position-card .type.long {
    background-color: #28a745; /* ุณุจุฒ ูุฏุฑู */
}

.position-card .type.short {
    background-color: #dc3545; /* ูุฑูุฒ ูุฏุฑู */
}

.position-card .card-content p {
    margin: 8px 0;
    font-size: 0.95rem;
    color: #495057;
}

.position-card .card-content p strong {
    color: #343a40;
}

.position-card .user-info {
    margin-top: 15px;
    font-size: 0.8rem;
    color: #6c757d;
    text-align: right;
}

/* Error Message */
.error-text {
    color: #dc3545;
    text-align: center;
    padding: 15px;
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
    border-radius: 8px;
    margin-top: 20px;
}

footer {
    border-top: 1px solid #e9ecef;
    padding: 25px;
    margin-top: 40px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .positions-grid {
        grid-template-columns: 1fr; /* ฺฉ ุณุชูู ุฏุฑ ููุจุงู */
    }
    header h1 {
        font-size: 1.6rem;
    }
}
3. ุจูโุฑูุฒุฑุณุงู JavaScript (js/ui.js):
ุชุงุจุน displayPositions ุจุงุฏ ุจุฑุง ุณุงุฎุชู ุงู ฺฉุงุฑุชโูุง ุจูโุฑูุฒ ุดูุฏ.

JavaScript

// js/ui.js

const positionsGridElement = document.getElementById('positions-grid'); // ุชุบุฑ ุจู ฺฏุฑุฏ
const loadingIndicatorElement = document.getElementById('loading-indicator');
const errorMessageElement = document.getElementById('error-message');
const noPositionsMessageElement = document.getElementById('no-positions-message');


/**
 * ูุถุนุช ููุฏูฺฏ ุฑุง ุฏุฑ UI ููุงุด ูโุฏูุฏ ุง ูพููุงู ูโฺฉูุฏ.
 * @param {boolean} isLoading - ุงฺฏุฑ true ุจุงุดุฏุ ูุดุงูฺฏุฑ ููุฏูฺฏ ููุงุด ุฏุงุฏู ูโุดูุฏ.
 */
function setLoading(isLoading) {
    if (isLoading) {
        loadingIndicatorElement.style.display = 'flex'; // ุง 'block' ุจุณุชู ุจู ุงุณุชุงู ููุฏุฑ
        positionsGridElement.style.display = 'none';
        errorMessageElement.style.display = 'none';
        noPositionsMessageElement.style.display = 'none';
    } else {
        loadingIndicatorElement.style.display = 'none';
        // ููุงุด ฺฏุฑุฏ ุง ูพุงู "ูฺ ูพูุฒุดู" ุชูุณุท displayPositions ูุฏุฑุช ู ุดูุฏ
    }
}

/**
 * ูพุงู ุฎุทุง ุฑุง ุฏุฑ UI ููุงุด ูโุฏูุฏ.
 * @param {string} message - ูพุงู ุฎุทุง ุจุฑุง ููุงุด.
 */
function displayError(message) {
    errorMessageElement.textContent = message || 'ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุงุทูุงุนุงุช ุฑุฎ ุฏุงุฏ. ูุทูุงู ุจุนุฏุงู ุชูุงุด ฺฉูุฏ.';
    errorMessageElement.style.display = 'block';
    loadingIndicatorElement.style.display = 'none';
    positionsGridElement.style.display = 'none';
    noPositionsMessageElement.style.display = 'none';
}

/**
 * ูพูุฒุดูโูุง ุฑุง ุฏุฑ ฺฏุฑุฏ UI ุจู ุตูุฑุช ฺฉุงุฑุช ููุงุด ูโุฏูุฏ.
 * @param {Array<Object>} positions - ุขุฑุงูโุง ุงุฒ ุขุจุฌฺฉุชโูุง ูพูุฒุดู.
 * ูุฑ ุขุจุฌฺฉุช ูพูุฒุดู ุจุงุฏ ุดุงูู ููุฏูุง ุฒุฑ ุจุงุดุฏ:
 * - symbol: (string) ููุงุฏ ุงุฑุฒ
 * - type: (string) ููุน ูพูุฒุดู ('long' ุง 'short')
 * - entryPrice: (number) ููุช ูุฑูุฏ
 * - amount: (number) ููุฏุงุฑ
 * - user: (string) ูุงู ฺฉุงุฑุจุฑ (ุงุฎุชุงุฑ)
 * - pnl: (number) ุณูุฏ/ุฒุงู (ุงุฎุชุงุฑ)
 * - leverage: (number) ุงูุฑู (ุงุฎุชุงุฑ)
 */
function displayPositions(positions) {
    positionsGridElement.innerHTML = ''; // ูพุงฺฉ ฺฉุฑุฏู ฺฏุฑุฏ ูุจู

    if (!positions || positions.length === 0) {
        noPositionsMessageElement.style.display = 'block';
        positionsGridElement.style.display = 'none';
        return;
    }

    noPositionsMessageElement.style.display = 'none';
    positionsGridElement.style.display = 'grid'; // ุงุทููุงู ุงุฒ ููุงุด ฺฏุฑุฏ

    positions.forEach(position => {
        const card = document.createElement('div');
        card.className = 'position-card';

        // ุจุฑุง ุงูุนุทุงู ูพุฐุฑ ุจุดุชุฑุ ุงุทูุงุนุงุช ุฑุง ุจู ุตูุฑุช ูพูุง ุงุถุงูู ู ฺฉูู
        // ุงู ุณุงุฎุชุงุฑ ุจุงุฏ ุจุง ุฏุงุฏูโูุง ูุงูุน API ุดูุง ุชุทุจู ุฏุงุฏู ุดูุฏ

        const cardHeader = document.createElement('div');
        cardHeader.className = 'card-header';

        const symbolElement = document.createElement('span');
        symbolElement.className = 'symbol';
        symbolElement.textContent = position.symbol || 'N/A';
        cardHeader.appendChild(symbolElement);

        const typeElement = document.createElement('span');
        typeElement.className = `type ${position.type && position.type.toLowerCase() === 'long' ? 'long' : 'short'}`;
        typeElement.textContent = position.type && position.type.toLowerCase() === 'long' ? 'ุฎุฑุฏ (Long)' : 'ูุฑูุด (Short)';
        if (!position.type) typeElement.textContent = 'ูุงูุดุฎุต';
        cardHeader.appendChild(typeElement);

        card.appendChild(cardHeader);

        const cardContent = document.createElement('div');
        cardContent.className = 'card-content';

        // ุชุงุจุน ฺฉูฺฉ ุจุฑุง ุงุฌุงุฏ ูพุงุฑุงฺฏุฑุงู ูุง ุงุทูุงุนุงุช
        const createInfoParagraph = (label, value, unit = '', toLocale = true) => {
            const p = document.createElement('p');
            let displayValue = 'N/A';
            if (value !== undefined && value !== null) {
                displayValue = toLocale && typeof value === 'number' ? value.toLocaleString() : value;
            }
            p.innerHTML = `<strong>${label}:</strong> ${displayValue} ${unit}`;
            return p;
        };

        cardContent.appendChild(createInfoParagraph('ููุช ูุฑูุฏ', position.entryPrice, position.quoteAsset || '')); // e.g., USDT
        cardContent.appendChild(createInfoParagraph('ููุฏุงุฑ', position.amount, position.baseAsset || '')); // e.g., BTC

        // ุงุถุงูู ฺฉุฑุฏู ุงุทูุงุนุงุช ุงุฎุชุงุฑ ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ
        if (position.leverage !== undefined) {
            cardContent.appendChild(createInfoParagraph('ุงูุฑู', position.leverage, 'x'));
        }
        if (position.pnl !== undefined) {
            const pnlElement = createInfoParagraph('ุณูุฏ/ุฒุงู', position.pnl, position.quoteAsset || '');
            pnlElement.style.color = position.pnl >= 0 ? '#28a745' : '#dc3545'; // ุณุจุฒ ุจุฑุง ุณูุฏุ ูุฑูุฒ ุจุฑุง ุฒุงู
            cardContent.appendChild(pnlElement);
        }
        if (position.timestamp) { // ุงุถุงูู ฺฉุฑุฏู ุฒูุงู ุจุงุฒ ุดุฏู ูพูุฒุดู ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏ
            cardContent.appendChild(createInfoParagraph('ุฒูุงู', new Date(position.timestamp).toLocaleString('fa-IR')));
        }


        card.appendChild(cardContent);

        if (position.user) {
            const userElement = document.createElement('div');
            userElement.className = 'user-info';
            userElement.textContent = `ฺฉุงุฑุจุฑ: ${position.user}`;
            card.appendChild(userElement);
        }

        positionsGridElement.appendChild(card);
    });
}
ูฺฉุงุช ููู ุฏุฑ ui.js ุฌุฏุฏ:

positionsGridElement: ุจู ุฌุง positionsListElement ุงุณุชูุงุฏู ุดุฏู.
noPositionsMessageElement: ุจุฑุง ููุงุด ูพุงู ุฏุฑ ุตูุฑุช ฺฉู ูฺ ูพูุฒุดู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ.
ุณุงุฎุชุงุฑ ฺฉุงุฑุช: ุชุงุจุน displayPositions ุญุงูุง ุงููุงู div ุจุง ฺฉูุงุณ position-card ูโุณุงุฒุฏ ู ุงุทูุงุนุงุช ุฑุง ุฏุงุฎู ุขู ูุฑุงุฑ ูโุฏูุฏ.
ุงุทูุงุนุงุช ุจุดุชุฑ: ุฏุฑ ุงู ูุซุงูุ ููุฏูุง ุงุฎุชุงุฑ ูุซู pnl (ุณูุฏ/ุฒุงู)ุ leverage (ุงูุฑู)ุ quoteAsset (ูุซูุง USDT)ุ baseAsset (ูุซูุง BTC) ู timestamp ูู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏู. ุดูุง ุจุงุฏ ุงููุง ุฑุง ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ูุงูุน API ุฎูุฏุชุงู ุชูุธู ฺฉูุฏ.
ุฑูฺฏ ุณูุฏ/ุฒุงู: ุงฺฏุฑ ุงุทูุงุนุงุช PNL ุฑุง ุฏุงุฑุฏุ ูโุชูุงูุฏ ุขู ุฑุง ุจุง ุฑูฺฏ ุณุจุฒ (ุณูุฏ) ุง ูุฑูุฒ (ุฒุงู) ููุงุด ุฏูุฏ.
4. ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงููุดู (ุงุฎุชุงุฑ ู ูพุดุฑูุชูโุชุฑ):
ุงฺฏุฑ ูโุฎูุงู ุงููุดูโูุง ูพฺุฏูโุชุฑ ู ุฑูุงูโุชุฑ ุฏุงุดุชู ุจุงุดุ ูโุชูุงู ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุฌุงูุง ุงุณฺฉุฑูพุช ูุงููุฏ Anime.js ุง GSAP (GreenSock Animation Platform) ุงุณุชูุงุฏู ฺฉู. ุงู ฺฉุชุงุจุฎุงููโูุง ฺฉูุชุฑู ุจุณุงุฑ ุฏูู ุฑู ุงููุดูโูุง ุจู ุดูุง ูโุฏููุฏ.

ูุซุงู (ูุงุฒ ุจู ุงูุฒูุฏู ฺฉุชุงุจุฎุงูู ุฏุงุฑุฏ):
ูุฑุถ ฺฉู ูโุฎูุงู ฺฉุงุฑุชโูุง ููฺฏุงู ุธุงูุฑ ุดุฏูุ ุจุง ฺฉ ุงููุดู fade-in ู slide-up ููุงุด ุฏุงุฏู ุดููุฏ.

JavaScript

// ุฏุฑ ui.jsุ ุจุนุฏ ุงุฒ ุณุงุฎุชู ูุฑ card ู ูุจู ุงุฒ appendChild ุจู ฺฏุฑุฏ:
// if (typeof anime === 'function') { // ุจุฑุฑุณ ูุฌูุฏ ฺฉุชุงุจุฎุงูู anime.js
//     anime({
//         targets: card,
//         translateY: [50, 0], // ุงุฒ 50px ูพุงู ุชุฑ ุจู ูฺฉุงู ุงุตู
//         opacity: [0, 1],    // ุงุฒ ุดูุงู ุจู ูุงุช
//         delay: anime.stagger(100), // ุชุงุฎุฑ ุจู ุงููุดู ูุฑ ฺฉุงุฑุช
//         duration: 800,
//         easing: 'easeOutExpo'
//     });
// }
// positionsGridElement.appendChild(card);
ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงูุ ุจุงุฏ ฺฉุชุงุจุฎุงูู anime.js ุฑุง ุจู index.html ุงุถุงูู ฺฉู:
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script> (ูุจู ุงุฒ ุงุณฺฉุฑูพุชโูุง ุฎูุฏุช)

5. ุขฺฉููโูุง:
ุงุณุชูุงุฏู ุงุฒ ุขฺฉููโูุง SVG ูโุชูุงูุฏ ุจู ูุฏุฑู ุดุฏู ุธุงูุฑ ฺฉูฺฉ ฺฉูุฏ. ูโุชูุงู ุงุฒ ฺฉุชุงุจุฎุงููโูุง ูุซู Feather Icons ุง Font Awesome (ูุณุฎู SVG) ุงุณุชูุงุฏู ฺฉู.

ูุซูุงู ฺฉูุงุฑ "ููุช ูุฑูุฏ" ุง "ููุฏุงุฑ" ูโุชูุงู ุขฺฉูู ูุฑุจูุทู ุฑุง ูุฑุงุฑ ุฏู.

6. ุจุงุฑฺฏุฐุงุฑ ุชูุจู (Lazy Loading) ุจุฑุง ุชุตุงูุฑ (ุงฺฏุฑ ูุฑุจูุท ุจูุฏ):
ุงฺฏุฑ ุฏุฑ ุขูุฏู ุฎูุงุณุช ุชุตุงูุฑ ูุฑุจูุท ุจู ูุฑ ุงุฑุฒ ุง ฺฉุงุฑุจุฑ ุฑุง ููุงุด ุฏูุ ุงุฒ ุชฺฉูฺฉ lazy loading ุจุฑุง ุจูุจูุฏ ูพุฑููุฑููุณ ุงุณุชูุงุฏู ฺฉู.

ูพุงุฏูโุณุงุฒ ู ุชุณุช:
ุงุนูุงู ุชุบุฑุงุช: ฺฉุฏูุง HTMLุ CSS ู JavaScript ุฑุง ุจุง ูููููโูุง ุจุงูุง (ุง ุจุง ุงููุงู ุงุฒ ุขูโูุง) ุจูโุฑูุฒ ฺฉู.
ุชูุธู API: ูุทูุฆู ุดู API_URL ู ุณุงุฎุชุงุฑ ุฏุงุฏู ุฏุฑ js/app.js ู js/ui.js ุจุง API ูุงูุน ุชู ูุทุงุจูุช ุฏุงุฑุฏ.
ุชุณุช ูุญู: ูพุฑูฺู ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏุช ุจุงุฒ ู ุชุณุช ฺฉู. ุจู ฺฉูุณูู ูุฑูุฑฺฏุฑ (Developer Tools) ุจุฑุง ุฏุฏู ุฎุทุงูุง ุฏูุช ฺฉู.
Push ุจู GitHub: ูพุณ ุงุฒ ุงุทููุงู ุงุฒ ุตุญุช ุนููฺฉุฑุฏุ ุชุบุฑุงุช ุฑุง ุจู GitHub ูพูุด ฺฉู.
ุงู ุชุบุฑุงุช ุจุงุฏ ุธุงูุฑ ูพุฑูฺู OpenPos ุฑุง ุจู ูุฑุงุชุจ ูุฏุฑูโุชุฑ ู ุดุจู ุจู ฺุฒ ฺฉู ุฏุฑ isega.ro ุฏุฏุ ฺฉูุฏ. ุจุงุฒ ูู ุชุงฺฉุฏ ูโฺฉูู ฺฉู ูููุชุฑู ุจุฎุดุ ุชุทุจู ฺฉุฏูุง ุจุง ุณุงุฎุชุงุฑ ุฏูู ุฏุงุฏูโูุง API ุดูุงุณุช.

ูููู ุจุงุด ู ุงฺฏุฑ ุณูุงู ุฏฺฏุฑ ุฏุงุดุชุ ุญุชูุง ุจูพุฑุณ!


ูพุงุฏู ุณุงุฒ ฺฉู ูพุดููุงุฏุงุชุงู. ุงูุจุชู ุฎูุฏ ูพุฑูฺู ูู ุชูุงูุง ุงูฺฏูุณ ุจุงุดูุ ุฒุจุงู ูพุงู ูู ุงูฺฏูุณ ู ุฒุจุงู ุฏูู ูุงุฑุณ ุจุง ูููุช ูุฒุฑูุชูุ ุจุง ุฏู ุชู ุฑูุดู ู ุชุงุฑฺฉ



Show thinking
Okay, this is an exciting challenge! Let's implement the project with an English-first approach, Persian as a second language (using Vazirmatn font), light and dark themes, and the modern UI inspired by your isega.ro reference.

Here's the "super professional" project structure and code:

Project Structure: OpenPos
OpenPos/
โโโ index.html
โโโ css/
โ   โโโ style.css
โโโ js/
โ   โโโ app.js         // Main application logic
โ   โโโ api.js         // API communication
โ   โโโ ui.js          // UI manipulation and rendering
โ   โโโ i18n.js        // Internationalization (language switching)
โ   โโโ theme.js       // Theme (light/dark) switching
โโโ locales/
โ   โโโ en.json        // English translations
โ   โโโ fa.json        // Persian (Farsi) translations
โโโ assets/
โ   โโโ fonts/         // (Optional) For self-hosting Vazirmatn if not using CDN
โ       โโโ Vazirmatn-FD-font-face.css
โ       โโโ Vazirmatn-Regular-FD.woff2
โ       โโโ Vazirmatn-Bold-FD.woff2
โ   โโโ images/        // For any icons or images (e.g., theme/lang icons)
โ       โโโ sun.svg
โ       โโโ moon.svg
โ       โโโ translate.svg
โโโ README.md          // Project description and setup
โโโ .gitignore         // Files to be ignored by Git
Code Implementation
1. index.html
HTML

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="pageTitle">Open Exchange Positions - OpenPos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="light-theme"> <header>
        <div class="container header-content">
            <h1 data-i18n-key="headerTitle">๐ Open Positions</h1>
            <div class="controls">
                <button id="theme-toggle-button" aria-label="Toggle theme">
                    <img src="assets/images/moon.svg" alt="Dark mode" class="theme-icon-dark">
                    <img src="assets/images/sun.svg" alt="Light mode" class="theme-icon-light">
                </button>
                <button id="language-toggle-button" aria-label="Toggle language">
                    <img src="assets/images/translate.svg" alt="Switch language" class="language-icon">
                    <span id="current-lang-display">EN</span>
                </button>
            </div>
        </div>
    </header>

    <main class="container">
        <section id="positions-container">
            <h2 data-i18n-key="positionsListTitle">Positions List:</h2>
            <div id="loading-indicator">
                <div class="spinner"></div>
                <p data-i18n-key="loadingMessage">Loading data...</p>
            </div>
            <div id="positions-grid" class="positions-grid">
                </div>
            <p id="no-positions-message" class="info-message" style="display: none;" data-i18n-key="noPositionsMessage">
                No open positions found at the moment.
            </p>
            <div id="error-message" class="error-text" style="display: none;"></div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>
                <span data-i18n-key="footerText">Built for</span>
                <a href="https://github.com/GeekNeuron/OpenPos" target="_blank">GeekNeuron/OpenPos</a>
            </p>
        </div>
    </footer>

    <script src="js/api.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
Notes for index.html:

lang="en" is set.
Vazirmatn font is linked via CDN. You can download it and host it locally in assets/fonts/ if preferred.
data-i18n-key attributes are added to elements that need translation.
Theme and language toggle buttons are added (you'll need sun.svg, moon.svg, and translate.svg icons in assets/images/). You can find simple SVG icons from sites like Feather Icons or Tabler Icons.
2. css/style.css
CSS

/* Import Vazirmatn if self-hosting (alternative to CDN in HTML) */
/* @import url('../assets/fonts/Vazirmatn-FD-font-face.css'); */

:root {
    /* Light Theme (Default) */
    --bg-color: #f8f9fa;
    --text-color: #212529;
    --card-bg-color: #ffffff;
    --card-border-color: #e9ecef;
    --card-shadow-color: rgba(0, 0, 0, 0.05);
    --header-bg-color: #ffffff;
    --header-text-color: #212529;
    --header-border-color: #e9ecef;
    --accent-color: #007bff;
    --accent-color-hover: #0056b3;
    --success-color: #28a745;
    --danger-color: #dc3545;
    --neutral-color-light: #6c757d;
    --neutral-color-dark: #495057;
    --link-color: var(--accent-color);

    --font-primary: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --font-secondary: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* For Persian text, Vazirmatn will be primary */
}

.dark-theme {
    --bg-color: #1a1a1a; /* Darker background */
    --text-color: #e0e0e0; /* Lighter text */
    --card-bg-color: #2c2c2c; /* Darker cards */
    --card-border-color: #444444;
    --card-shadow-color: rgba(0, 0, 0, 0.2);
    --header-bg-color: #252525;
    --header-text-color: #e0e0e0;
    --header-border-color: #3a3a3a;
    --accent-color: #0095ff; /* Brighter accent for dark mode */
    --accent-color-hover: #0077cc;
    --success-color: #30c755;
    --danger-color: #f05060;
    --neutral-color-light: #a0a0a0;
    --neutral-color-dark: #c0c0c0;
    --link-color: var(--accent-color);
}

/* Base Styles */
body {
    font-family: var(--font-primary);
    background-color: var(--bg-color);
    color: var(--text-color);
    margin: 0;
    padding: 0;
    line-height: 1.7;
    transition: background-color 0.3s ease, color 0.3s ease;
    font-size: 16px; /* Base font size */
}

body.fa { /* Apply Vazirmatn more specifically when Persian is active */
    font-family: 'Vazirmatn', var(--font-primary);
    direction: rtl;
}

body.fa header .header-content,
body.fa main.container,
body.fa footer .container {
    direction: rtl;
}

body.fa .controls {
    margin-right: auto; /* Push controls to the left in RTL */
    margin-left: 0;
}
body.fa .position-card .user-info {
    text-align: left; /* User info to the left in RTL */
}


/* Container */
.container {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}

/* Header */
header {
    background-color: var(--header-bg-color);
    color: var(--header-text-color);
    padding: 1rem 0;
    box-shadow: 0 2px 5px var(--card-shadow-color);
    border-bottom: 1px solid var(--header-border-color);
    position: sticky;
    top: 0;
    z-index: 1000;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header h1 {
    margin: 0;
    font-size: 1.8rem;
    font-weight: 600;
    color: var(--header-text-color);
}

.controls {
    display: flex;
    align-items: center;
    gap: 15px;
}

.controls button {
    background: none;
    border: 1px solid var(--card-border-color);
    color: var(--text-color);
    padding: 8px 12px;
    border-radius: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    transition: background-color 0.2s ease, border-color 0.2s ease;
}

.controls button:hover {
    background-color: var(--card-border-color);
}

.controls button img {
    width: 18px;
    height: 18px;
    filter: var(--text-color) == #e0e0e0 ? invert(1) : invert(0); /* Basic icon color inversion for dark mode */
}
.dark-theme .controls button img {
    filter: invert(1);
}

#theme-toggle-button .theme-icon-dark { display: block; }
#theme-toggle-button .theme-icon-light { display: none; }
.dark-theme #theme-toggle-button .theme-icon-dark { display: none; }
.dark-theme #theme-toggle-button .theme-icon-light { display: block; }


/* Main Content */
main {
    padding: 30px 0;
}

#positions-container h2 {
    color: var(--accent-color);
    border-bottom: 2px solid var(--accent-color);
    padding-bottom: 10px;
    margin-bottom: 25px;
    font-size: 1.6rem;
    font-weight: 500;
}

/* Loading Indicator */
#loading-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    font-size: 1.1em;
    color: var(--neutral-color-light);
}

.spinner {
    width: 50px;
    height: 50px;
    border: 5px solid var(--card-border-color);
    border-top: 5px solid var(--accent-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 15px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Positions Grid & Cards */
.positions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 25px;
}

.position-card {
    background-color: var(--card-bg-color);
    border: 1px solid var(--card-border-color);
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 5px 15px var(--card-shadow-color);
    transition: transform 0.25s ease-in-out, box-shadow 0.25s ease-in-out, background-color 0.3s ease, border-color 0.3s ease;
    display: flex;
    flex-direction: column;
}

.position-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    /* Dark theme hover shadow */
    .dark-theme & {
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }
}

.position-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 18px;
    border-bottom: 1px solid var(--card-border-color);
    padding-bottom: 12px;
}

.position-card .symbol {
    font-weight: 700; /* Bolder symbol */
    font-size: 1.35rem;
    color: var(--text-color);
}
body.fa .position-card .symbol {
    font-weight: 600; /* Vazirmatn has good bold, 700 might be too much */
}


.position-card .type {
    padding: 7px 15px;
    border-radius: 25px;
    color: #fff;
    font-size: 0.88rem;
    font-weight: 500;
    text-transform: uppercase;
}

.position-card .type.long { background-color: var(--success-color); }
.position-card .type.short { background-color: var(--danger-color); }
.position-card .type.unknown { background-color: var(--neutral-color-light); }


.position-card .card-content p {
    margin: 10px 0;
    font-size: 1rem;
    color: var(--neutral-color-dark);
}
body.fa .position-card .card-content p {
    font-size: 0.95rem; /* Vazirmatn can be slightly smaller and still readable */
}

.position-card .card-content p strong {
    color: var(--text-color);
    font-weight: 600;
}
body.fa .position-card .card-content p strong {
    font-weight: 500;
}


.position-card .pnl-positive { color: var(--success-color); }
.position-card .pnl-negative { color: var(--danger-color); }

.position-card .user-info {
    margin-top: 20px;
    font-size: 0.85rem;
    color: var(--neutral-color-light);
    text-align: right;
    border-top: 1px dashed var(--card-border-color);
    padding-top: 10px;
}

/* Info & Error Messages */
.info-message,
.error-text {
    text-align: center;
    padding: 20px;
    margin-top: 20px;
    border-radius: 8px;
    font-size: 1.05rem;
}

.info-message {
    background-color: var(--card-bg-color); /* Consistent with card bg */
    border: 1px solid var(--card-border-color);
    color: var(--neutral-color-dark);
}

.error-text {
    background-color: #ffebee; /* Light red for error bg */
    border: 1px solid var(--danger-color);
    color: var(--danger-color);
}
.dark-theme .error-text {
    background-color: #4d2323;
    color: #ff8a80;
    border-color: #ff8a80;
}


/* Footer */
footer {
    text-align: center;
    padding: 25px 0;
    margin-top: 40px;
    color: var(--neutral-color-light);
    font-size: 0.9em;
    border-top: 1px solid var(--header-border-color);
    transition: border-color 0.3s ease;
}

footer a {
    color: var(--link-color);
    text-decoration: none;
    font-weight: 500;
}

footer a:hover {
    text-decoration: underline;
    color: var(--accent-color-hover);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        gap: 10px;
    }
    header h1 { font-size: 1.6rem; }
    .positions-grid {
        grid-template-columns: 1fr; /* Single column on smaller screens */
    }
    .controls { margin-top: 10px; }
}

@media (max-width: 480px) {
    header h1 { font-size: 1.4rem; }
    .position-card { padding: 20px; }
    .position-card .symbol { font-size: 1.2rem; }
    .position-card .type { padding: 6px 12px; font-size: 0.8rem; }
    .position-card .card-content p { font-size: 0.9rem; }
    body.fa .position-card .card-content p { font-size: 0.85rem; }

}
3. locales/en.json
JSON

{
    "pageTitle": "Open Exchange Positions - OpenPos",
    "headerTitle": "๐ Open Positions",
    "positionsListTitle": "Positions List:",
    "loadingMessage": "Loading data...",
    "noPositionsMessage": "No open positions found at the moment.",
    "errorMessageDefault": "An error occurred while fetching data. Please try again later.",
    "errorFailedToFetch": "Could not connect to the server. Please check your internet connection and ensure the API endpoint is correct (CORS might be an issue).",
    "errorUnauthorized": "Access to the API is unauthorized. Please check your API key if required.",
    "errorNotFound": "The API endpoint was not found.",
    "footerText": "Built for",
    "positionCard": {
        "symbol": "Symbol",
        "type": "Type",
        "long": "Long",
        "short": "Short",
        "unknown": "Unknown",
        "entryPrice": "Entry Price",
        "amount": "Amount",
        "leverage": "Leverage",
        "pnl": "PnL",
        "user": "User",
        "timestamp": "Time",
        "na": "N/A"
    },
    "lang_en": "EN",
    "lang_fa": "FA"
}
4. locales/fa.json
JSON

{
    "pageTitle": "ูพูุฒุดูโูุง ุจุงุฒ ุตุฑุงู - OpenPos",
    "headerTitle": "๐ ูพูุฒุดูโูุง ุจุงุฒ",
    "positionsListTitle": "ูุณุช ูพูุฒุดูโูุง:",
    "loadingMessage": "ุฏุฑุญุงู ุจุงุฑฺฏุฐุงุฑ ุงุทูุงุนุงุช...",
    "noPositionsMessage": "ุฏุฑ ุญุงู ุญุงุถุฑ ูฺ ูพูุฒุดู ุจุงุฒ ูุฌูุฏ ูุฏุงุฑุฏ.",
    "errorMessageDefault": "ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช ุฑุฎ ุฏุงุฏ. ูุทูุงู ุจุนุฏุงู ุชูุงุด ฺฉูุฏ.",
    "errorFailedToFetch": "ุงูฺฉุงู ุงุชุตุงู ุจู ุณุฑูุฑ ูุฌูุฏ ูุฏุงุฑุฏ. ูุทูุงู ุงุชุตุงู ุงูุชุฑูุช ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ฺฉู ุขุฏุฑุณ API ุตุญุญ ุงุณุช (ูุดฺฉู CORS ููฺฉู ุงุณุช ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ).",
    "errorUnauthorized": "ุฏุณุชุฑุณ ุจู API ูุฌุงุฒ ูุณุช. ูุทูุงู ุฏุฑ ุตูุฑุช ูุงุฒ ฺฉูุฏ API ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.",
    "errorNotFound": "ุขุฏุฑุณ API ููุฑุฏ ูุธุฑ ุงูุช ูุดุฏ.",
    "footerText": "ุณุงุฎุชู ุดุฏู ุจุฑุง",
    "positionCard": {
        "symbol": "ููุงุฏ",
        "type": "ููุน",
        "long": "ุฎุฑุฏ (Long)",
        "short": "ูุฑูุด (Short)",
        "unknown": "ูุงูุดุฎุต",
        "entryPrice": "ููุช ูุฑูุฏ",
        "amount": "ููุฏุงุฑ",
        "leverage": "ุงูุฑู",
        "pnl": "ุณูุฏ/ุฒุงู",
        "user": "ฺฉุงุฑุจุฑ",
        "timestamp": "ุฒูุงู",
        "na": "ูุงูุดุฎุต"
    },
    "lang_en": "EN",
    "lang_fa": "FA"
}
5. js/api.js
JavaScript

// js/api.js

/**
 * Fetches open positions data from the specified API URL.
 * @async
 * @param {string} apiUrl - The full API endpoint URL.
 * @returns {Promise<Array<Object>>} - A promise that resolves to an array of position objects.
 * Rejects with an error if fetching fails.
 */
async function fetchOpenPositions(apiUrl) {
    try {
        const response = await fetch(apiUrl);
        if (!response.ok) {
            // Try to get more specific error message from response if available
            let errorData;
            try {
                errorData = await response.json();
            } catch (e) {
                // Ignore if response is not JSON
            }
            const errorMessage = errorData?.message || response.statusText;
            throw new Error(`API Error: ${response.status} ${errorMessage}`);
        }
        const data = await response.json();
        // Assuming the API returns an array of positions directly.
        // If positions are nested, e.g., data.positions, adjust accordingly in app.js
        return data;
    } catch (error) {
        console.error('Error in fetchOpenPositions:', error);
        throw error; // Re-throw to be handled by the caller (app.js)
    }
}

// Example: If your API requires an API Key in the header:
/*
async function fetchOpenPositionsWithApiKey(apiUrl, apiKey) {
    try {
        const response = await fetch(apiUrl, {
            headers: {
                'Authorization': `Bearer ${apiKey}` // Or 'X-API-KEY': apiKey, etc.
            }
        });
        if (!response.ok) {
            let errorData;
            try {
                errorData = await response.json();
            } catch (e) {}
            const errorMessage = errorData?.message || response.statusText;
            throw new Error(`API Error: ${response.status} ${errorMessage}`);
        }
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error in fetchOpenPositionsWithApiKey:', error);
        throw error;
    }
}
*/
6. js/i18n.js
JavaScript

// js/i18n.js

let currentLanguage = 'en'; // Default language
let translations = {}; // To store loaded translations

const supportedLanguages = ['en', 'fa'];
const langToggleButton = document.getElementById('language-toggle-button');
const currentLangDisplay = document.getElementById('current-lang-display');


/**
 * Loads translation file for the given language.
 * @param {string} lang - The language code (e.g., 'en', 'fa').
 * @returns {Promise<void>}
 */
async function loadTranslations(lang) {
    try {
        const response = await fetch(`locales/${lang}.json`);
        if (!response.ok) {
            throw new Error(`Failed to load translations for ${lang}: ${response.statusText}`);
        }
        translations[lang] = await response.json();
        console.log(`${lang.toUpperCase()} translations loaded.`);
    } catch (error) {
        console.error(error);
        // Fallback or error handling if a translation file is missing
        if (lang !== 'en') { // Try loading English as a fallback if not already English
            await loadTranslations('en');
        }
    }
}

/**
 * Translates a key using the loaded translations for the current language.
 * @param {string} key - The translation key (e.g., "pageTitle", "positionCard.symbol").
 * @param {Object} [vars={}] - Optional variables for placeholder replacement.
 * @returns {string} The translated string or the key itself if not found.
 */
function translate(key, vars = {}) {
    let langSet = translations[currentLanguage] || translations['en']; // Fallback to English
    if (!langSet) return key; // No translations loaded at all

    let text = key.split('.').reduce((obj, i) => (obj ? obj[i] : null), langSet);

    if (text) {
        for (const [varKey, varValue] of Object.entries(vars)) {
            text = text.replace(new RegExp(`{{${varKey}}}`, 'g'), varValue);
        }
        return text;
    }
    console.warn(`Translation key not found for lang '${currentLanguage}': ${key}`);
    return key; // Return the key itself if not found
}


/**
 * Applies translations to all elements with data-i18n-key attribute.
 */
function applyTranslationsToPage() {
    document.querySelectorAll('[data-i18n-key]').forEach(element => {
        const key = element.getAttribute('data-i18n-key');
        const translatedText = translate(key);

        // Handle different ways to set text based on element type
        if (element.tagName === 'INPUT' && element.type === 'placeholder') {
            element.placeholder = translatedText;
        } else if (element.tagName === 'TITLE') {
            document.title = translatedText;
        }
        else {
            element.textContent = translatedText;
        }
    });

    // Update HTML lang attribute and body class for direction
    document.documentElement.lang = currentLanguage;
    document.body.classList.remove('fa', 'en'); // Remove previous lang classes
    document.body.classList.add(currentLanguage); // Add current lang class (e.g., 'fa' for RTL)
    if (currentLanguage === 'fa') {
        document.body.setAttribute('dir', 'rtl');
    } else {
        document.body.setAttribute('dir', 'ltr');
    }
    if(currentLangDisplay) currentLangDisplay.textContent = translate(`lang_${currentLanguage}`).toUpperCase();
}

/**
 * Sets the current language and updates the UI.
 * @param {string} lang - The language code to set.
 */
async function setLanguage(lang) {
    if (!supportedLanguages.includes(lang)) {
        console.warn(`Unsupported language: ${lang}. Defaulting to 'en'.`);
        lang = 'en';
    }
    currentLanguage = lang;
    if (!translations[lang]) {
        await loadTranslations(lang);
    }
    applyTranslationsToPage();
    localStorage.setItem('preferredLanguage', lang); // Save preference
    // Potentially re-render dynamic content if it's already on the page
    if (window.currentPositionsData) { // Check if ui.js exposed current data
        window.ui.displayPositions(window.currentPositionsData);
    }
}

/**
 * Initializes the internationalization system.
 * Loads the preferred or default language.
 */
async function initI18n() {
    const preferredLanguage = localStorage.getItem('preferredLanguage');
    const initialLang = supportedLanguages.includes(preferredLanguage) ? preferredLanguage : 'en';

    await loadTranslations(initialLang); // Load default/preferred language first
    currentLanguage = initialLang; // Set it after loading
    applyTranslationsToPage();

    if (langToggleButton) {
        langToggleButton.addEventListener('click', () => {
            const newLang = currentLanguage === 'en' ? 'fa' : 'en';
            setLanguage(newLang);
        });
    }
}
7. js/theme.js
JavaScript

// js/theme.js

const themeToggleButton = document.getElementById('theme-toggle-button');
const bodyElement = document.body;
const sunIcon = document.querySelector('#theme-toggle-button .theme-icon-light');
const moonIcon = document.querySelector('#theme-toggle-button .theme-icon-dark');

/**
 * Applies the specified theme.
 * @param {string} theme - The theme to apply ('light-theme' or 'dark-theme').
 */
function applyTheme(theme) {
    bodyElement.classList.remove('light-theme', 'dark-theme');
    bodyElement.classList.add(theme);

    if (theme === 'dark-theme') {
        if(moonIcon) moonIcon.style.display = 'none';
        if(sunIcon) sunIcon.style.display = 'block';
    } else {
        if(moonIcon) moonIcon.style.display = 'block';
        if(sunIcon) sunIcon.style.display = 'none';
    }
    localStorage.setItem('preferredTheme', theme);
}

/**
 * Toggles between light and dark themes.
 */
function toggleTheme() {
    const currentTheme = bodyElement.classList.contains('dark-theme') ? 'dark-theme' : 'light-theme';
    const newTheme = currentTheme === 'dark-theme' ? 'light-theme' : 'dark-theme';
    applyTheme(newTheme);
}

/**
 * Initializes the theme based on user preference or system preference.
 */
function initTheme() {
    let preferredTheme = localStorage.getItem('preferredTheme');

    if (!preferredTheme) {
        // Optional: Check for system preference if no local storage setting
        // if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        //     preferredTheme = 'dark-theme';
        // } else {
        //     preferredTheme = 'light-theme';
        // }
        preferredTheme = 'light-theme'; // Default to light if no preference
    }

    applyTheme(preferredTheme);

    if (themeToggleButton) {
        themeToggleButton.addEventListener('click', toggleTheme);
    }
}
8. js/ui.js
JavaScript

// js/ui.js
// Expose a global object for ui functions if needed by i18n or other modules
window.ui = {};

const positionsGridElement = document.getElementById('positions-grid');
const loadingIndicatorElement = document.getElementById('loading-indicator');
const errorMessageElement = document.getElementById('error-message');
const noPositionsMessageElement = document.getElementById('no-positions-message');

/**
 * Sets the loading state in the UI.
 * @param {boolean} isLoading - True to show loading, false to hide.
 */
window.ui.setLoading = function(isLoading) {
    if (isLoading) {
        loadingIndicatorElement.style.display = 'flex';
        positionsGridElement.style.display = 'none';
        errorMessageElement.style.display = 'none';
        noPositionsMessageElement.style.display = 'none';
    } else {
        loadingIndicatorElement.style.display = 'none';
        // The display of grid or no-positions message is handled by displayPositions
    }
};

/**
 * Displays an error message in the UI.
 * @param {string} messageKey - The translation key for the error message.
 * @param {string} [fallbackMessage='An error occurred.'] - Fallback message if key not found.
 */
window.ui.displayError = function(messageKey, fallbackMessage = 'An error occurred.') {
    const message = translate(messageKey, { fallback: fallbackMessage });
    errorMessageElement.textContent = message;
    errorMessageElement.style.display = 'block';
    loadingIndicatorElement.style.display = 'none';
    positionsGridElement.style.display = 'none';
    noPositionsMessageElement.style.display = 'none';
};

/**
 * Displays the fetched positions as cards in the UI.
 * @param {Array<Object>} positions - An array of position objects.
 * Expected position object structure:
 * {
 * symbol: "BTCUSDT",      // (string) Trading symbol
 * type: "long" or "short",// (string) Position type
 * entryPrice: 50000,      // (number) Entry price
 * amount: 0.5,            // (number) Position size
 * baseAsset: "BTC",       // (string, optional) e.g., BTC, ETH
 * quoteAsset: "USDT",     // (string, optional) e.g., USDT, USD
 * leverage: 10,           // (number, optional) Leverage used
 * pnl: 150.50,            // (number, optional) Profit and Loss
 * user: "GeekNeuron",     // (string, optional) User identifier
 * timestamp: 1678886400000 // (number, optional) Timestamp of position opening
 * }
 */
window.ui.displayPositions = function(positions) {
    positionsGridElement.innerHTML = ''; // Clear previous positions

    if (!positions || positions.length === 0) {
        noPositionsMessageElement.style.display = 'block';
        positionsGridElement.style.display = 'none';
        return;
    }

    noPositionsMessageElement.style.display = 'none';
    positionsGridElement.style.display = 'grid';

    positions.forEach(position => {
        const card = document.createElement('div');
        card.className = 'position-card';

        const cardHeader = document.createElement('div');
        cardHeader.className = 'card-header';

        const symbolElement = document.createElement('span');
        symbolElement.className = 'symbol';
        symbolElement.textContent = position.symbol || translate('positionCard.na');
        cardHeader.appendChild(symbolElement);

        const typeElement = document.createElement('span');
        let positionTypeClass = 'unknown';
        let positionTypeTextKey = 'positionCard.unknown';
        if (position.type) {
            if (position.type.toLowerCase() === 'long') {
                positionTypeClass = 'long';
                positionTypeTextKey = 'positionCard.long';
            } else if (position.type.toLowerCase() === 'short') {
                positionTypeClass = 'short';
                positionTypeTextKey = 'positionCard.short';
            }
        }
        typeElement.className = `type ${positionTypeClass}`;
        typeElement.textContent = translate(positionTypeTextKey);
        cardHeader.appendChild(typeElement);
        card.appendChild(cardHeader);

        const cardContent = document.createElement('div');
        cardContent.className = 'card-content';

        const createInfoParagraph = (labelKey, value, unit = '', toLocale = true) => {
            const p = document.createElement('p');
            const label = translate(labelKey) || labelKey.split('.').pop();
            let displayValue = translate('positionCard.na');
            if (value !== undefined && value !== null) {
                displayValue = toLocale && typeof value === 'number' ? value.toLocaleString(currentLanguage === 'fa' ? 'fa-IR' : 'en-US') : value;
            }
            p.innerHTML = `<strong>${label}:</strong> ${displayValue} ${unit}`;
            return p;
        };

        cardContent.appendChild(createInfoParagraph('positionCard.entryPrice', position.entryPrice, position.quoteAsset || '', true));
        cardContent.appendChild(createInfoParagraph('positionCard.amount', position.amount, position.baseAsset || '', true));

        if (position.leverage !== undefined) {
            cardContent.appendChild(createInfoParagraph('positionCard.leverage', position.leverage, 'x', true));
        }
        if (position.pnl !== undefined) {
            const pnlPara = createInfoParagraph('positionCard.pnl', position.pnl, position.quoteAsset || '', true);
            pnlPara.classList.add(position.pnl >= 0 ? 'pnl-positive' : 'pnl-negative');
            cardContent.appendChild(pnlPara);
        }
        if (position.timestamp) {
            const dateOptions = { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            const formattedTime = new Date(position.timestamp).toLocaleString(currentLanguage === 'fa' ? 'fa-IR' : 'en-US', dateOptions);
            cardContent.appendChild(createInfoParagraph('positionCard.timestamp', formattedTime, '', false));
        }
        card.appendChild(cardContent);

        if (position.user) {
            const userElement = document.createElement('div');
            userElement.className = 'user-info';
            userElement.textContent = `${translate('positionCard.user')}: ${position.user}`;
            card.appendChild(userElement);
        }
        positionsGridElement.appendChild(card);
    });
     // Store current data globally for potential re-renders on language change
    window.currentPositionsData = positions;
};
9. js/app.js
JavaScript

// js/app.js

// !!! IMPORTANT: Replace with your actual API endpoint !!!
// This is a placeholder. For GitHub Pages, if your API is on a different domain,
// it MUST have CORS headers configured to allow requests from GeekNeuron.github.io
const API_URL = 'https://api.example.com/open-positions'; // <<< --- !!! EDIT THIS !!!
// const API_URL = 'https://api.coingecko.com/api/v3/derivatives/exchanges/binance_futures?include_tickers=unexpired'; // Example public API (adjust data parsing in ui.js)
// const API_URL = 'sample_data.json'; // For local testing with a sample_data.json file in root

// If your API needs a key, define it here and use fetchOpenPositionsWithApiKey
// const API_KEY = 'YOUR_API_KEY_HERE'; // <<< --- !!! EDIT THIS IF NEEDED !!!

/**
 * Main application function.
 * Initializes theme, language, and fetches/displays position data.
 */
async function mainApp() {
    // Initialize theme and language systems first
    // These are blocking to ensure UI is set up before content might be rendered
    initTheme(); // from theme.js
    await initI18n(); // from i18n.js - needs to be async

    window.ui.setLoading(true);

    try {
        // To use API with key (uncomment from api.js as well):
        // const positions = await fetchOpenPositionsWithApiKey(API_URL, API_KEY);
        // For API without key:
        const positions = await fetchOpenPositions(API_URL);

        // Process and display positions.
        // The structure of 'positions' depends on your API.
        // The example Public API from CoinGecko returns data in `positions.tickers`
        // If API_URL is 'https://api.coingecko.com/api/v3/derivatives/exchanges/binance_futures?include_tickers=unexpired'
        // you might need something like:
        // const processedPositions = positions.tickers.map(ticker => ({
        //     symbol: ticker.symbol,
        //     type: ticker.contract_type, // 'perpetual', 'monthly', etc. - adapt ui.js for this
        //     entryPrice: ticker.last, // Using 'last' as a stand-in for entryPrice
        //     amount: ticker.volume_24h, // Using 'volume_24h' as a stand-in for amount
        //     baseAsset: ticker.base,
        //     quoteAsset: ticker.target,
        //     timestamp: new Date(ticker.last_traded_at * 1000).getTime()
        // }));
        // window.ui.displayPositions(processedPositions);

        // For a direct array of positions as described in ui.js:
        window.ui.displayPositions(positions);

    } catch (error) {
        console.error('Main application error:', error);
        let errorMessageKey = 'errorMessageDefault';
        if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
            errorMessageKey = 'errorFailedToFetch';
        } else if (error.message.includes('API Error: 401') || error.message.includes('API Error: 403')) {
            errorMessageKey = 'errorUnauthorized';
        } else if (error.message.includes('API Error: 404')) {
            errorMessageKey = 'errorNotFound';
        }
        window.ui.displayError(errorMessageKey);
    } finally {
        window.ui.setLoading(false);
    }
}

// Run the main application logic when the DOM is fully loaded
document.addEventListener('DOMContentLoaded', mainApp);

// (Optional) Auto-refresh data at intervals
// const REFRESH_INTERVAL_MS = 5 * 60 * 1000; // e.g., every 5 minutes
// setInterval(mainApp, REFRESH_INTERVAL_MS); // Be mindful of API rate limits
10. README.md
Markdown

# OpenPos ๐

A modern, multi-language, themed web application to display open positions from an exchange API. Designed for GitHub Pages.

**Live Demo (Example):** `https://GeekNeuron.github.io/OpenPos/` (Once deployed)

## โจ Features

* **Modern UI:** Card-based layout for displaying positions.
* **Dual Language:**
    * English (Default)
    * Persian (Farsi) with Vazirmatn font and RTL support.
* **Dual Theme:**
    * Light Theme (Default)
    * Dark Theme
* **API Integration:** Fetches and displays data from a configurable API endpoint.
* **Responsive Design:** Adapts to different screen sizes.
* **Professional Structure:** Clear separation of concerns for HTML, CSS, and JavaScript modules (API, UI, i18n, Theme).

## ๐๏ธ Setup & Configuration

1.  **Clone the repository (Optional):**
    ```bash
    git clone [https://github.com/GeekNeuron/OpenPos.git](https://github.com/GeekNeuron/OpenPos.git)
    cd OpenPos
    ```

2.  **Configure API Endpoint:**
    * Open the `js/app.js` file.
    * **Crucial:** Modify the `API_URL` constant to point to your actual API endpoint that returns open positions.
        ```javascript
        const API_URL = 'YOUR_ACTUAL_API_ENDPOINT_HERE';
        ```
    * If your API requires an API key:
        * Uncomment the `API_KEY` constant and set its value.
        * In `js/api.js`, uncomment the `fetchOpenPositionsWithApiKey` function.
        * In `js/app.js`, change the `fetchOpenPositions(API_URL)` call to `fetchOpenPositionsWithApiKey(API_URL, API_KEY)`.

3.  **API Data Structure:**
    The `js/ui.js` file (`displayPositions` function) expects an array of position objects with a specific structure. Please review the comments in `js/ui.js` and adapt the data mapping if your API returns data in a different format. An example of the expected structure:
    ```json
    [
      {
        "symbol": "BTCUSDT",
        "type": "long", // or "short"
        "entryPrice": 50000,
        "amount": 0.5,
        "baseAsset": "BTC",    // Optional
        "quoteAsset": "USDT",  // Optional
        "leverage": 10,        // Optional
        "pnl": 150.50,         // Optional
        "user": "TraderX",     // Optional
        "timestamp": 1678886400000 // Optional (Unix ms)
      }
    ]
    ```

4.  **Icons:**
    This project uses SVG icons for theme and language toggles. Ensure you have `sun.svg`, `moon.svg`, and `translate.svg` in the `assets/images/` folder or update the paths in `index.html`. You can source these from sites like [Feather Icons](https://feathericons.com/) or [Tabler Icons](https://tabler-icons.io/).

5.  **Local Testing:**
    Open `index.html` in your browser.
    * **CORS Issue Note:** If you are fetching from a live API on a different domain, you might encounter CORS (Cross-Origin Resource Sharing) errors when running `index.html` directly from your local file system (`file:///...`). The API server must be configured to send `Access-Control-Allow-Origin` headers that permit requests from your origin (or `*` for public APIs). For local development, using a simple local server (e.g., VS Code Live Server extension, Python's `http.server`) can help, as it serves files over `http://localhost`.

## ๐ Deployment to GitHub Pages

1.  Ensure your GitHub repository is named `OpenPos` and your username is `GeekNeuron`.
2.  Push your code to the `main` (or `master`) branch of your GitHub repository.
3.  Go to your repository settings on GitHub (`https://github.com/GeekNeuron/OpenPos/settings`).
4.  Navigate to the "Pages" section from the sidebar.
5.  Under "Build and deployment", select "Deploy from a branch" as the source.
6.  Choose the `main` branch (or your default branch) and the `/ (root)` folder. Click "Save".
7.  GitHub Pages will build and deploy your site. It might take a few minutes. The URL will be shown in the Pages settings (usually `https://GeekNeuron.github.io/OpenPos/`).

## ๐ Project Structure

* `index.html`: Main HTML structure.
* `css/style.css`: Styles for themes, layout, and components.
* `js/`: JavaScript files.
    * `app.js`: Main application logic, API calls.
    * `api.js`: Functions for API communication.
    * `ui.js`: Functions for DOM manipulation and rendering data.
    * `i18n.js`: Internationalization logic (language switching).
    * `theme.js`: Theme switching logic (light/dark).
* `locales/`: JSON files for translations.
    * `en.json`: English strings.
    * `fa.json`: Persian (Farsi) strings.
* `assets/`: Static assets like fonts (if self-hosted) and images.
* `README.md`: This file.
* `.gitignore`: Specifies intentionally untracked files that Git should ignore.

## ๐ค Contributing

Contributions, issues, and feature requests are welcome!

## ๐ License

[MIT](./LICENSE) (Consider adding a LICENSE file if you wish)
11. .gitignore (No change from previous, good for most JS front-end)
# Dependencies
node_modules/
bower_components/

# Build files
dist/
build/
out/
target/

# Log files
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Environment variables
.env
.env.local
.env.*.local
*.env

# OS generated files
.DS_Store
Thumbs.db
.Spotlight-V100
.Trashes

# Editor directories and files
.idea/
.vscode/
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
